(this["webpackJsonplibrary-dashboard"]=this["webpackJsonplibrary-dashboard"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},24:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),l=s(9),o=s.n(l),r=(s(19),s(10)),i=s(11),a=s(14),d=s(13),b=(s(20),s(4)),j=s(5),u=s(2),m=s(6),h=s(12),x=s(1);function f(e){var t=[{id:"fXFfDwAAQBAJ",due:"2021-09-20"},{id:"yHTLngEACAAJ",due:"2021-10-08"}];function s(){return t.filter((function(t){return t.id===e.id})).length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{className:"text-green-700",children:["due date: ",t.filter((function(t){return t.id===e.id}))[0].due]}),Object(x.jsx)("button",{className:"mb-2 md:mb-0 bg-green-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-gray-800",type:"button",children:"Renew"})]}):Object(x.jsxs)("button",{className:"mb-2 md:mb-0 bg-gray-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full cursor-not-allowed",type:"button",disabled:!0,children:["Returned on ",e.date]})}return Object(x.jsx)("div",{className:"flex items-stretch mx-auto lg:mx-0 break-all",children:Object(x.jsxs)(j.b,{to:"/book/"+e.id,className:"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 non-flex sm:flex sm:space-x-8 w-full",children:[Object(x.jsx)("div",{className:"h-48 md:w-1/4 sm:w-1/3 w-full",children:Object(x.jsx)("img",{className:"rounded shadow-lg h-48 object-cover mx-auto",src:e.cover,alt:e.title+"'s cover"})}),Object(x.jsxs)("div",{className:"flex flex-col md:w-3/4 sm:w-2/3 w-full sm:space-y-4 place-content-between",children:[Object(x.jsx)("div",{className:"flex justify-between items-start",children:Object(x.jsx)("h2",{className:"text-3xl font-bold",children:e.title})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"text-sm text-gray-400",children:e.type}),Object(x.jsx)("div",{className:"text-lg text-gray-800",children:e.authors.join(", ")})]}),e.button?Object(x.jsx)(s,{}):Object(x.jsx)(x.Fragment,{})]})]})})}function g(e){var t,s=Object(n.useState)(localStorage.getItem("list")?null===(t=localStorage.getItem("list"))||void 0===t?void 0:t.split(","):[]),c=Object(m.a)(s,2),l=c[0],o=c[1];Object(n.useEffect)((function(){localStorage.setItem("list",l.join(","))}),[l]);var r=Object(u.h)().id,i=Object(n.useState)(null),a=Object(m.a)(i,2),d=a[0],j=a[1];return Object(n.useEffect)((function(){fetch("https://www.googleapis.com/books/v1/volumes/"+r).then((function(e){return e.json()})).then(j)}),[r]),d?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 non-flex sm:flex sm:space-x-8 w-full",children:[Object(x.jsx)("div",{className:"h-48 md:w-1/4 sm:w-1/3 w-full",children:Object(x.jsx)("img",{className:"rounded-3xl shadow-lg h-48 object-contain mx-auto",src:d.volumeInfo.imageLinks.thumbnail,alt:d.volumeInfo.title+"'s cover"})}),Object(x.jsxs)("div",{className:"flex flex-col md:w-3/4 sm:w-2/3 w-full sm:space-y-4 place-content-between",children:[Object(x.jsxs)("div",{className:"justify-between items-start",children:[Object(x.jsx)("h2",{className:"text-3xl font-bold",children:d.volumeInfo.title}),Object(x.jsx)("h2",{className:"text-xl text-gray-700 font-semibold",children:d.volumeInfo.subtitle})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"text-sm text-gray-400",children:[d.volumeInfo.printType+" | "+d.volumeInfo.printedPageCount," pages"]}),Object(x.jsx)("div",{className:"text-lg text-gray-800",children:d.volumeInfo.authors.join(", ")})]}),Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsx)("button",{className:"flex-shrink-0 text-green-900 w-12 h-12  hover:text-gray-800",type:"button",onClick:function(){return function(e){if(l.includes(e.id)){var t=l.filter((function(t){return t!==e.id}));o(t)}else{var s=l.concat(e.id);o(s)}}({id:d.id})},children:l.includes(d.id)?Object(x.jsx)(h.a,{className:"h-12"}):Object(x.jsx)(b.c,{className:"h-12"})}),"Do Dice Play God?"!==d.volumeInfo.title&&"Compilers"!==d.volumeInfo.title?Object(x.jsxs)("button",{className:"flex-1 ml-2 mb-2 md:mb-0 bg-green-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-gray-800",type:"button",children:["Request this ",Object(x.jsx)("span",{className:"lowercase",children:d.volumeInfo.printType})]}):Object(x.jsx)("button",{className:"flex-1 mb-2 md:mb-0 bg-gray-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full cursor-not-allowed",type:"button",disabled:!0,children:"You already have this one"})]}),d.volumeInfo.categories?Object(x.jsx)("div",{className:"text-md text-gray-700 whitespace-pre-wrap",children:d.volumeInfo.categories.join("\n")}):null]})]}),Object(x.jsxs)("div",{className:"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 w-full",children:[Object(x.jsx)("p",{className:"text-green-700",children:"Description:"}),Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:d.volumeInfo.description}}),Object(x.jsx)("hr",{className:"my-5"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"text-green-700",children:"Publisher:"})," ",d.volumeInfo.publisher]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"text-green-700",children:"Publication date:"})," ",d.volumeInfo.publishedDate]})]})]}):Object(x.jsx)("p",{children:"loading..."})}function p(e){var t="https://www.googleapis.com/books/v1/users/105889888655647378716/bookshelves/".concat(e.shelfId,"/volumes"),s=Object(n.useState)(null),c=Object(m.a)(s,2),l=c[0],o=c[1];function r(e){return Object(x.jsxs)(j.b,{to:"/book/"+e.id,className:"group p-3 hover:bg-gray-50",children:[Object(x.jsx)("img",{className:"hidden md:block md:visible max-h-48 object-contain mx-auto",src:e.book.imageLinks.smallThumbnail,alt:"cover of "+e.book.title+" by "+e.book.authors[0]}),Object(x.jsxs)("p",{className:"font-black pt-2 group-hover:text-green-700",children:[Object(x.jsx)("span",{className:"md:hidden",children:Object(x.jsx)(b.b,{className:"h-5 inline-block justify-self-center text-green-700"})}),e.book.title]}),Object(x.jsx)("p",{className:"font-normal group-hover:text-gray-700",children:e.book.authors.join(", ")})]})}return Object(n.useEffect)((function(){fetch(t).then((function(e){return e.json()})).then(o)}),[t]),l?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"text-green-900 font-black mt-5",children:e.shelfName}),Object(x.jsx)("div",{className:"bg-white shadow-lg border-gray-100 border rounded-xl w-full px-3 py-5 grid grid-cols-1 md:grid-cols-5 place-content-stretch md:divide-x divide-gray-100",children:l.items.map((function(e){return Object(x.jsx)(r,{book:e.volumeInfo,id:e.id},e.id)}))})]}):Object(x.jsx)("p",{children:"Loading..."})}function O(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("https://www.googleapis.com/books/v1/users/105889888655647378716/bookshelves/1001/volumes").then((function(e){return e.json()})).then(c)}),[]),s?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:"Your Loans"}),Object(x.jsx)("div",{className:"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex",children:s.items.map((function(e){var t;return Object(x.jsx)(f,{id:e.id,type:e.volumeInfo.printType?e.volumeInfo.printType:"",title:e.volumeInfo.title?e.volumeInfo.title:"",cover:(null===(t=e.volumeInfo)||void 0===t?void 0:t.imageLinks)?e.volumeInfo.imageLinks.thumbnail:"https://books.google.no/googlebooks/images/no_cover_thumb.gif",authors:e.volumeInfo.authors?e.volumeInfo.authors:[""],date:e.volumeInfo.publishedDate?e.volumeInfo.publishedDate:"",button:!0},e.id)}))})]}):Object(x.jsx)("p",{children:"Loading..."})}function v(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:"Home"}),Object(x.jsx)(p,{shelfId:"1002",shelfName:"Popular Fiction"}),Object(x.jsx)(p,{shelfId:"1003",shelfName:"Popular Non-Fiction"}),Object(x.jsx)(p,{shelfId:"1004",shelfName:"Popular Children's"})]})}function w(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:"Digital Resources"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://www.pressreader.com/catalog/",children:"PressReader"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"http://bergen.naxosmusiclibrary.com/",children:"Naxos Music Library"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://www.nb.no/search",children:"NB.no: Nettbiblioteket"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://www.bibsent.no/bibliotekprodukter/bookbites",children:"Bookbites (e-book reader)"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://filmbib.dspree.com/",children:"Filmbib"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"https://filmoteket.no/",children:"filmoteket.no"})})]})]})}function y(){var e,t=null===(e=localStorage.getItem("list"))||void 0===e?void 0:e.split(","),s=Object(n.useState)([]),c=Object(m.a)(s,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){Promise.all(t.map((function(e){return fetch("https://www.googleapis.com/books/v1/volumes/".concat(e))}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){o(e)})).catch((function(e){console.log("ERR: "+e)}))}),[]),console.log(l),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:"Your Favorite List"}),l.length>0?Object(x.jsx)("div",{className:"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex",children:l.map((function(e){return e.hasOwnProperty("error")?null:Object(x.jsx)(f,{id:e.id,type:e.volumeInfo.printType?e.volumeInfo.printType:"",title:e.volumeInfo.title?e.volumeInfo.title:"",cover:(null===(t=e.volumeInfo)||void 0===t?void 0:t.imageLinks)?e.volumeInfo.imageLinks.thumbnail:"https://books.google.no/googlebooks/images/no_cover_thumb.gif",authors:e.volumeInfo.authors?e.volumeInfo.authors:[""],date:e.volumeInfo.publishedDate?e.volumeInfo.publishedDate:"",button:!1},e.id);var t}))}):Object(x.jsx)("p",{children:"loading..."})]})}function N(){var e=Object(u.h)().query,t=Object(n.useState)(0),s=Object(m.a)(t,2),c=s[0],l=s[1],o=Object(n.useState)(null),r=Object(m.a)(o,2),i=r[0],a=r[1];if(Object(n.useEffect)((function(){fetch("https://www.googleapis.com/books/v1/volumes?q="+e+"&printType=books&maxResults=6&projection=lite&orderBy=relevance&startIndex="+6*c).then((function(e){return e.json()})).then(a)}),[c,e]),i){var d=(i.totalItems-1)/6;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("header",{children:["Search results for: ",e]}),Object(x.jsxs)("div",{className:"flex justify-center m-2",children:[Object(x.jsx)("button",{onClick:function(){return l(Math.max(c-1,0))},className:c>0?"mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-green-800":"mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-gray-900",children:"Previous"}),Object(x.jsx)("button",{onClick:function(){return l(Math.min(c+1,d))},className:c<d?"mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-green-800":"mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-gray-900",children:"Next"})]}),Object(x.jsx)("div",{className:"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex",children:i.items.map((function(e){var t;return Object(x.jsx)(f,{id:e.id,type:e.volumeInfo.printType?e.volumeInfo.printType:"",title:e.volumeInfo.title?e.volumeInfo.title:"",cover:(null===(t=e.volumeInfo)||void 0===t?void 0:t.imageLinks)?e.volumeInfo.imageLinks.thumbnail:"https://books.google.no/googlebooks/images/no_cover_thumb.gif",authors:e.volumeInfo.authors?e.volumeInfo.authors:[""],date:e.volumeInfo.publishedDate?e.volumeInfo.publishedDate:"",button:!1},e.id)}))})]})}return Object(x.jsx)("p",{children:"Loading..."})}var k=[{name:"home",icon:c.a.createElement(b.d,{className:"Menu-Item",alt:"home"}),link:"/"},{name:"loans and orders",icon:c.a.createElement(b.a,{className:"Menu-Item"}),link:"/loans"},{name:"lists",icon:c.a.createElement(b.c,{className:"Menu-Item"}),link:"/lists"},{name:"digital content",icon:c.a.createElement(b.e,{className:"Menu-Item"}),link:"/digital"}];function I(){return Object(x.jsx)("nav",{className:"fixed flex justify-center left-0 bg-green-900 w-20 h-screen py-5 pl-2",children:Object(x.jsxs)("ul",{className:"text-white text-center",children:[k.map((function(e,t){return Object(x.jsx)("li",{className:"items-center justify-center py-4",children:Object(x.jsx)(j.c,{end:!0,to:e.link,activeClassName:"active",children:e.icon})},t)})),Object(x.jsx)("li",{className:"flex justify-center pt-7",children:Object(x.jsxs)("h1",{className:"text-white text-center vertical-rl transform rotate-180",children:[Object(x.jsx)("span",{className:"font-bold",children:"Bergen"}),Object(x.jsx)("span",{className:"font-thin",children:"Bibliotek"})]})},"logo")]})})}function F(){return Object(x.jsxs)("section",{className:"TopBar",children:[Object(x.jsx)(S,{}),Object(x.jsx)(L,{})]})}var S=function(e){Object(a.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).myChangeHandler=function(e){n.setState({query:e.target.value})},n.state={query:""},n}return Object(i.a)(s,[{key:"render",value:function(){return Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex items-center w-auto lg:w-5/12 mx-6 px-3 py-2 border rounded hover:bg-white focus-within:bg-white",children:[Object(x.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),Object(x.jsx)("input",{id:"search",placeholder:"Search library...",type:"text",className:"bg-transparent w-11/12 ring-0",onChange:this.myChangeHandler}),Object(x.jsx)(j.b,{to:"/search/"+this.state.query,className:"w-1/12 h-full hover:text-green-800 text-gray-500",children:Object(x.jsx)("button",{type:"submit",className:"w-full",children:Object(x.jsx)(b.f,{})})})]})})}}]),s}(c.a.Component);function L(){return Object(x.jsx)(x.Fragment,{})}var C=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I,{}),Object(x.jsx)(F,{}),Object(x.jsx)("section",{className:"Content",children:Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/",children:Object(x.jsx)(v,{})}),Object(x.jsx)(u.a,{path:"/loans",children:Object(x.jsx)(O,{})}),Object(x.jsx)(u.a,{path:"/lists",children:Object(x.jsx)(y,{})}),Object(x.jsx)(u.a,{path:"/digital",children:Object(x.jsx)(w,{})}),Object(x.jsx)(u.a,{path:"/book/:id",children:Object(x.jsx)(g,{})}),Object(x.jsx)(u.a,{path:"/search/:query",children:Object(x.jsx)(N,{})})]})})]})};o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(j.a,{children:Object(x.jsx)(C,{})})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9a76b3d4.chunk.js.map