{"version":3,"sources":["page.js","App.js","index.js"],"names":["BookItem","props","borrowed","id","due","Button","filter","book","length","className","type","disabled","date","to","src","cover","alt","title","authors","join","button","BookDisplay","useState","localStorage","getItem","split","list","setList","useEffect","setItem","useParams","data","setData","fetch","then","response","json","volumeInfo","imageLinks","thumbnail","subtitle","printType","printedPageCount","onClick","includes","newList","item","concat","updateList","categories","dangerouslySetInnerHTML","__html","description","publisher","publishedDate","BookRow","ApiUrl","shelfId","BookRowItem","smallThumbnail","shelfName","items","map","LoansPage","HomePage","DigitalPage","href","ListsPage","result","setResult","Promise","all","responses","catch","error","console","log","hasOwnProperty","SearchResult","query","page","setPage","lastPage","totalItems","Math","max","min","menuItems","name","icon","React","createElement","HomeIcon","link","BookOpenIcon","HeartIcon","LinkIcon","SideBar","index","end","activeClassName","TopBar","Personal","Search","myChangeHandler","event","setState","target","value","state","htmlFor","placeholder","onChange","this","Component","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a76b3d4.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Link, useParams} from \"react-router-dom\";\nimport {ChevronDoubleRightIcon, HeartIcon} from \"@heroicons/react/outline\";\nimport {HeartIcon as FullHeartIcon} from \"@heroicons/react/solid\";\n\nfunction BookItem(props) {\n    const borrowed = [{id: 'fXFfDwAAQBAJ', due: '2021-09-20'}, {id: 'yHTLngEACAAJ', due: '2021-10-08'}]\n\n    function Button() {\n        return (\n            !borrowed.filter(book => (book.id === props.id)).length\n                ?<button\n                    className=\"mb-2 md:mb-0 bg-gray-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full cursor-not-allowed\"\n                    type=\"button\" disabled={true}>Returned on {props.date}</button>\n                :<>\n                    <p className=\"text-green-700\">due date: {borrowed.filter(book => (book.id === props.id))[0].due}</p>\n                    <button\n                        className=\"mb-2 md:mb-0 bg-green-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-gray-800\"\n                        type=\"button\">Renew\n                    </button>\n                </>\n        )\n    }\n\n    return (\n        <div className=\"flex items-stretch mx-auto lg:mx-0 break-all\">\n            <Link to={`/book/`+props.id}\n                className=\"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 non-flex sm:flex sm:space-x-8 w-full\">\n                <div className=\"h-48 md:w-1/4 sm:w-1/3 w-full\">\n                    <img className=\"rounded shadow-lg h-48 object-cover mx-auto\"\n                         src={props.cover}\n                         alt={props.title+`'s cover`}/>\n                </div>\n                <div className=\"flex flex-col md:w-3/4 sm:w-2/3 w-full sm:space-y-4 place-content-between\">\n                    <div className=\"flex justify-between items-start\">\n                        <h2 className=\"text-3xl font-bold\">{props.title}</h2>\n                    </div>\n                    <div>\n                        <div className=\"text-sm text-gray-400\">{props.type}</div>\n                        <div className=\"text-lg text-gray-800\">{props.authors.join(', ')}</div>\n                    </div>\n                    {\n                        props.button ? <Button/> : <></>\n                    }\n                </div>\n            </Link>\n        </div>\n    )\n}\n\nexport function BookDisplay(props) {\n    const [list, setList] = useState(\n        localStorage.getItem('list')? localStorage.getItem('list')?.split(',') : []\n    )\n    useEffect(() => {\n        localStorage.setItem('list', list.join(','));\n    },[list])\n    function updateList(props) {\n        if (list.includes(props.id)) {\n            const newList = list.filter((item) => item !== props.id);\n            setList(newList);\n        }\n        else {\n            const newList = list.concat(props.id);\n            setList(newList);\n        }\n    }\n\n    const { id } = useParams();\n    const [data, setData] = useState(null);\n    useEffect(() => {\n        fetch(`https://www.googleapis.com/books/v1/volumes/`+id)\n            .then(response => response.json())\n            .then(setData)\n    }, [id]);\n    if (data) {\n        return (\n            <>\n                <div className=\"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 non-flex sm:flex sm:space-x-8 w-full\">\n                    <div className=\"h-48 md:w-1/4 sm:w-1/3 w-full\">\n                        <img className=\"rounded-3xl shadow-lg h-48 object-contain mx-auto\"\n                             src={data.volumeInfo.imageLinks.thumbnail}\n                             alt={data.volumeInfo.title+`'s cover`}/>\n                    </div>\n                    <div className=\"flex flex-col md:w-3/4 sm:w-2/3 w-full sm:space-y-4 place-content-between\">\n                        <div className=\"justify-between items-start\">\n                            <h2 className=\"text-3xl font-bold\">{data.volumeInfo.title}</h2>\n                            <h2 className=\"text-xl text-gray-700 font-semibold\">{data.volumeInfo.subtitle}</h2>\n                        </div>\n                        <div>\n                            <div className=\"text-sm text-gray-400\">\n                                {data.volumeInfo.printType + ' | ' + data.volumeInfo.printedPageCount} pages\n                            </div>\n                            <div className=\"text-lg text-gray-800\">{data.volumeInfo.authors.join(', ')}</div>\n                        </div>\n                        <div className=\"flex items-center\">\n                            <button className=\"flex-shrink-0 text-green-900 w-12 h-12  hover:text-gray-800\" type=\"button\"\n                            onClick={() => updateList({id: data.id})}>\n                                {\n                                    list.includes(data.id) ? <FullHeartIcon className=\"h-12\"/> : <HeartIcon className=\"h-12\"/>\n                                }\n                            </button>\n                            {\n                            data.volumeInfo.title !== 'Do Dice Play God?' && data.volumeInfo.title !== 'Compilers'\n                                ?   <button className=\"flex-1 ml-2 mb-2 md:mb-0 bg-green-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full hover:bg-gray-800\"\n                                                type=\"button\">Request this <span className=\"lowercase\">{data.volumeInfo.printType}</span></button>\n                                :   <button className=\"flex-1 mb-2 md:mb-0 bg-gray-900 px-5 py-2 shadow-sm tracking-wider text-white rounded-full cursor-not-allowed\"\n                                            type=\"button\" disabled={true}>You already have this one</button>\n                            }\n                        </div>\n                        {\n                            data.volumeInfo.categories ? <div className=\"text-md text-gray-700 whitespace-pre-wrap\">{data.volumeInfo.categories.join(`\\n`)}</div> : null\n                        }\n\n                    </div>\n                </div>\n                <div className=\"bg-white shadow-lg border-gray-100 border sm:rounded-3xl p-8 w-full\">\n                    <p className=\"text-green-700\">Description:</p>\n                    <div dangerouslySetInnerHTML={{__html: data.volumeInfo.description}} />\n                    <hr className=\"my-5\" />\n                    <p><span className=\"text-green-700\">Publisher:</span> {data.volumeInfo.publisher}</p>\n                    <p><span className=\"text-green-700\">Publication date:</span> {data.volumeInfo.publishedDate}</p>\n                </div>\n            </>\n        )\n    }\n    else {\n        return (<p>loading...</p>)\n    }\n}\n\nfunction BookRow(props) {\n    const ApiUrl =`https://www.googleapis.com/books/v1/users/105889888655647378716/bookshelves/${props.shelfId}/volumes`;\n    const [data, setData] = useState(null);\n    useEffect(() => {\n        fetch(ApiUrl)\n            .then(response => response.json())\n            .then(setData)\n    },[ApiUrl])\n\n    function BookRowItem(props) {\n        return (\n            <Link to={'/book/'+props.id} className=\"group p-3 hover:bg-gray-50\">\n                <img className=\"hidden md:block md:visible max-h-48 object-contain mx-auto\"\n                     src={props.book.imageLinks.smallThumbnail} alt={`cover of ` + props.book.title + ` by ` + props.book.authors[0]}/>\n                <p className=\"font-black pt-2 group-hover:text-green-700\">\n                    <span className=\"md:hidden\"><ChevronDoubleRightIcon className=\"h-5 inline-block justify-self-center text-green-700\"/></span>\n                    {props.book.title}</p>\n                <p className=\"font-normal group-hover:text-gray-700\">{props.book.authors.join(', ')}</p>\n            </Link>\n        )\n    }\n\n    if (data) {\n        return (\n            <>\n                <h1 className=\"text-green-900 font-black mt-5\">{props.shelfName}</h1>\n                <div className=\"bg-white shadow-lg border-gray-100 border rounded-xl w-full px-3 py-5 grid grid-cols-1 md:grid-cols-5 place-content-stretch md:divide-x divide-gray-100\">\n                    {\n                        data.items.map(item => {\n                            return (<BookRowItem key={item.id} book={item.volumeInfo} id={item.id}/>)\n                        })\n                    }\n                </div>\n            </>\n        )\n    }\n    else {\n        return (\n            <p>Loading...</p>\n        )\n    }\n}\n\nexport function LoansPage() {\n    const [data, setData] = useState(null);\n    useEffect(() => {\n        fetch(`https://www.googleapis.com/books/v1/users/105889888655647378716/bookshelves/1001/volumes`)\n            .then(response => response.json())\n            .then(setData)\n    }, []);\n\n    if(data) {\n        return (\n            <>\n                <header>Your Loans</header>\n                <div className=\"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex\">\n                {\n                    data.items.map(item => {\n                        return (\n                            <BookItem key={item.id}\n                                id={item.id}\n                                type={item.volumeInfo.printType ? item.volumeInfo.printType : ''}\n                                title={item.volumeInfo.title ? item.volumeInfo.title : ''}\n                                cover={item.volumeInfo?.imageLinks ? item.volumeInfo.imageLinks.thumbnail : 'https://books.google.no/googlebooks/images/no_cover_thumb.gif'}\n                                authors={item.volumeInfo.authors ? item.volumeInfo.authors : ['']}\n                                date={item.volumeInfo.publishedDate ? item.volumeInfo.publishedDate : ''}\n                                button={true}\n                            />\n                        )\n                    })\n                }\n                </div>\n            </>\n        )\n    }\n    else {\n        return (\n            <p>Loading...</p>\n        )\n    }\n}\n\nexport function HomePage() {\n    return (\n       <>\n           <header>Home</header>\n           <BookRow shelfId=\"1002\" shelfName=\"Popular Fiction\"/>\n           <BookRow shelfId=\"1003\" shelfName=\"Popular Non-Fiction\"/>\n           <BookRow shelfId=\"1004\" shelfName=\"Popular Children's\"/>\n       </>\n    )\n}\n\nexport function DigitalPage() {\n    return (\n        <>\n            <header>Digital Resources</header>\n            <ul>\n                <li><a href=\"https://www.pressreader.com/catalog/\">PressReader</a></li>\n                <li><a href=\"http://bergen.naxosmusiclibrary.com/\">Naxos Music Library</a></li>\n                <li><a href=\"https://www.nb.no/search\">NB.no: Nettbiblioteket</a></li>\n                <li><a href=\"https://www.bibsent.no/bibliotekprodukter/bookbites\">Bookbites (e-book reader)</a></li>\n                <li><a href=\"https://filmbib.dspree.com/\">Filmbib</a></li>\n                <li><a href=\"https://filmoteket.no/\">filmoteket.no</a></li>\n            </ul>\n        </>\n    )\n}\n\nexport function ListsPage() {\n    const list = localStorage.getItem('list')?.split(',');\n    const [result, setResult] = useState([]);\n    useEffect(()=>{\n        Promise.all(\n            list.map(id => {\n                return (fetch(`https://www.googleapis.com/books/v1/volumes/${id}`))\n            })\n        ).then(function (responses) {\n            // Get a JSON object from each of the responses\n            return Promise.all(responses.map(function (response) {\n                return response.json();\n            }));\n        }).then(function (data) {\n            // Log the data to the console\n            // You would do something with both sets of data here\n            setResult(data)\n        }).catch(function (error) {\n            // if there's an error, log it\n            console.log('ERR: ' + error);\n        });\n    },[])\n    console.log(result)\n    return (\n        <>\n            <header>Your Favorite List</header>\n            {\n                result.length > 0 ?\n                    <div className=\"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex\">\n                        {\n                            result.map(item => {\n                                if (item.hasOwnProperty('error')) {\n                                    return null;\n                                }\n                                else {\n                                    return (\n                                        <BookItem key={item.id}\n                                                  id={item.id}\n                                                  type={item.volumeInfo.printType ? item.volumeInfo.printType : ''}\n                                                  title={item.volumeInfo.title ? item.volumeInfo.title : ''}\n                                                  cover={item.volumeInfo?.imageLinks ? item.volumeInfo.imageLinks.thumbnail : 'https://books.google.no/googlebooks/images/no_cover_thumb.gif'}\n                                                  authors={item.volumeInfo.authors ? item.volumeInfo.authors : ['']}\n                                                  date={item.volumeInfo.publishedDate ? item.volumeInfo.publishedDate : ''}\n                                                  button={false}\n                                        />\n                                    )\n                                }\n                            })\n                        }\n                    </div>\n                    : <p>loading...</p>\n            }\n\n        </>\n    )\n}\n\nexport function SearchResult() {\n    const { query } = useParams();\n    const [page, setPage] = useState(0);\n    const [data, setData] = useState(null);\n    useEffect(() => {\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=`+query+\n            `&printType=books&maxResults=6&projection=lite&orderBy=relevance&startIndex=`+page*6)\n            .then(response => response.json())\n            .then(setData)\n    }, [page, query]);\n\n    if(data) {\n        const lastPage = (data.totalItems - 1) / 6;\n        return (\n            <>\n                <header>Search results for: {query}</header>\n                <div className=\"flex justify-center m-2\">\n                    <button onClick={() => setPage(Math.max(page-1, 0))}\n                            className={page > 0\n                                ?`mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-green-800`\n                                :`mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-gray-900`}>Previous</button>\n                    <button onClick={() => setPage(Math.min(page+1, lastPage))}\n                            className={page < lastPage\n                                ?`mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-green-800`\n                                :`mb-2 md:mb-0 px-5 py-2 shadow-sm tracking-wider text-white rounded-full w-28 bg-gray-900`}>Next</button>\n                </div>\n                <div className=\"lg:grid lg:grid-cols-2 space-y-4 lg:space-y-0 lg:gap-4 lg:items-stretch lg:flex\">\n                    {\n                        data.items.map(item => {\n                            return (\n                                <BookItem key={item.id}\n                                          id={item.id}\n                                          type={item.volumeInfo.printType ? item.volumeInfo.printType : ''}\n                                          title={item.volumeInfo.title ? item.volumeInfo.title : ''}\n                                          cover={item.volumeInfo?.imageLinks ? item.volumeInfo.imageLinks.thumbnail : 'https://books.google.no/googlebooks/images/no_cover_thumb.gif'}\n                                          authors={item.volumeInfo.authors ? item.volumeInfo.authors : ['']}\n                                          date={item.volumeInfo.publishedDate ? item.volumeInfo.publishedDate : ''}\n                                          button={false}\n                                />\n                            )\n                        })\n                    }\n                </div>\n            </>\n        )\n    }\n    else {\n        return (\n            <p>Loading...</p>\n        )\n    }\n}","import './App.css';\nimport {BookOpenIcon, HeartIcon, HomeIcon, LinkIcon, SearchIcon,} from '@heroicons/react/outline'\nimport React from \"react\";\nimport {NavLink, Routes, Route, Link} from \"react-router-dom\";\nimport {LoansPage, HomePage, ListsPage, DigitalPage, BookDisplay, SearchResult} from './page.js'\n\nconst menuItems = [\n    {\n        name: \"home\",\n        icon: React.createElement(HomeIcon, {className: 'Menu-Item', alt: 'home'}),\n        link: \"/\"\n    },\n    {\n        name: \"loans and orders\",\n        icon: React.createElement(BookOpenIcon, {className: 'Menu-Item'}),\n        link: \"/loans\"\n    },\n    {\n        name: \"lists\",\n        icon: React.createElement(HeartIcon, {className: 'Menu-Item'}),\n        link: \"/lists\"\n    },\n    {\n        name: \"digital content\",\n        icon: React.createElement(LinkIcon, {className: 'Menu-Item'}),\n        link: \"/digital\"\n    },\n];\n\nfunction SideBar() {\n  return (\n      <nav className=\"fixed flex justify-center left-0 bg-green-900 w-20 h-screen py-5 pl-2\">\n          <ul className=\"text-white text-center\">\n              {\n                  menuItems.map( (item, index) =>\n                      <li key={index} className=\"items-center justify-center py-4\">\n                          <NavLink end to={item.link} activeClassName=\"active\">{item.icon}</NavLink>\n                      </li>\n                  )\n              }\n              <li key=\"logo\" className=\"flex justify-center pt-7\">\n                  <h1 className=\"text-white text-center vertical-rl transform rotate-180\">\n                      <span className=\"font-bold\">Bergen</span><span className=\"font-thin\">Bibliotek</span>\n                  </h1>\n              </li>\n          </ul>\n      </nav>\n  )\n}\n\nfunction TopBar() {\n    return (\n        <section className=\"TopBar\">\n            <Search />\n            <Personal />\n        </section>\n    )\n}\n\nclass Search extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { query: '' };\n    }\n    myChangeHandler = (event) => {\n        this.setState({query: event.target.value});\n    }\n    render() {\n        return (\n            <form>\n                <div className=\"flex items-center w-auto lg:w-5/12 mx-6 px-3 py-2 border rounded hover:bg-white focus-within:bg-white\">\n                    <label htmlFor=\"search\" className=\"sr-only\">Search</label>\n                    <input id=\"search\" placeholder=\"Search library...\"\n                           type=\"text\" className=\"bg-transparent w-11/12 ring-0\" onChange={this.myChangeHandler}/>\n                    <Link to={`/search/` + this.state.query} className=\"w-1/12 h-full hover:text-green-800 text-gray-500\">\n                        <button type=\"submit\" className=\"w-full\"><SearchIcon /></button>\n                    </Link>\n                </div>\n            </form>\n        );\n    }\n}\n\nfunction Personal() {\n    return (\n        <></>\n    )\n}\n\nfunction App() {\n  return (\n      <>\n          <SideBar />\n          <TopBar />\n          <section className=\"Content\">\n              <Routes>\n                  <Route path=\"/\" >\n                      <HomePage/>\n                  </Route>\n                  <Route path=\"/loans\" >\n                      <LoansPage/>\n                  </Route>\n                  <Route path=\"/lists\" >\n                      <ListsPage/>\n                  </Route>\n                  <Route path=\"/digital\" >\n                      <DigitalPage/>\n                  </Route>\n                  <Route path=\"/book/:id\">\n                      <BookDisplay/>\n                  </Route>\n                  <Route path=\"/search/:query\">\n                      <SearchResult/>\n                  </Route>\n              </Routes>\n          </section>\n      </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <App />\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}